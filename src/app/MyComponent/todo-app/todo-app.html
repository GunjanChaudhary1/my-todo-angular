<div class="parent container mt-4 p-4 shadow-sm">
  <h2 class="text-center fw-bold text-primary mb-4">My To-Do List</h2>

  <!-- Create Task -->
  <form class="mb-3 row g-2">
    <div class="col-md-6">
      <input type="text" [(ngModel)]="taskName" name="taskName" class="form-control"
        placeholder="Enter task name" />
    </div>
    <div class="col-md-2 d-grid">
      <button type="button" class="btn btn-primary" (click)="addTask()">Add Task</button>
    </div>
    <div class="col-md-2 d-grid">
      <button type="button" class="btn btn-danger" (click)="searchTask()">Search</button>
    </div>
  </form>

  <!-- Filter Dropdown -->
  <div class="mb-4 text-center">
    <select class="form-select w-25 mx-auto" [(ngModel)]="filterStatus" (change)="applyFilter()">
      <option value="All">All Tasks</option>
      <option value="New">New</option>
      <option value="Completed">Completed</option>
      <option value="On Hold">On Hold</option>
    </select>
  </div>

  <!-- Task List -->
  <ul class="list-group">
    <li *ngIf="filteredTasks.length === 0" class="list-group-item text-center text-muted">
      No tasks found.
    </li>

    <li *ngFor="let task of filteredTasks; let i = index"
      class="list-group-item d-flex justify-content-between align-items-center task-item"
      [ngClass]="{
        'completed': task.status === 'Completed',
        'hold': task.status === 'On Hold'
      }">
      <div class="d-flex align-items-center gap-2">
        <span class="badge status-badge" [ngClass]="{
          'bg-success': task.status === 'Completed',
          'bg-warning text-dark': task.status === 'On Hold',
          'bg-secondary': task.status === 'New'
        }">
          {{ task.status }}
        </span>
        <h6 class="mb-0">{{ task.name }}</h6>
      </div>

      <div class="d-flex align-items-center gap-2">
        <select class="form-select form-select-sm" [(ngModel)]="task.status" (change)="updateStatus(i)">
          <option value="New">New</option>
          <option value="Completed">Completed</option>
          <option value="On Hold">On Hold</option>
        </select>
        <button type="button" class="btn btn-sm btn-outline-danger" (click)="deleteTask(i)">
          <i class="bi bi-trash"></i> Delete
        </button>
      </div>
    </li>
  </ul>
</div>
